{% extends "base.html" %}
{% block content %}
  <h1>ğŸš€ API + Webhook Tester</h1>
  
  <div class="card">
    <p>è¿™ä¸ªæœåŠ¡ç”¨äºæµ‹è¯• GPTBots Agent API å’Œ Freshchat Webhook é›†æˆã€‚</p>
    <p class="meta">é€‰æ‹©ä¸‹æ–¹çš„åŠŸèƒ½é¡µé¢å¼€å§‹æµ‹è¯•</p>
  </div>

  <div class="row">
    <div class="card">
      <h3>ğŸ¤– Agent API</h3>
      <p>æµ‹è¯• GPTBots Agent API è°ƒç”¨</p>
      <p class="meta">åˆ›å»ºä¼šè¯ã€å‘é€æ¶ˆæ¯ã€æŸ¥çœ‹è¯¦ç»†çš„è¯·æ±‚å’Œå“åº”</p>
      <a href="/agent" style="display: inline-block; margin-top: 12px; padding: 8px 16px; background: #2563eb; color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">è¿›å…¥æµ‹è¯•</a>
    </div>
    
    <div class="card">
      <h3>ğŸ’¬ Live Chat</h3>
      <p>å®æ—¶èŠå¤©æµ‹è¯•ï¼ˆFreshchat æ°”æ³¡ï¼‰</p>
      <p class="meta">åœ¨çœŸå®çš„èŠå¤©ç•Œé¢ä¸­æµ‹è¯•å®Œæ•´æµç¨‹</p>
      <a href="/chat" style="display: inline-block; margin-top: 12px; padding: 8px 16px; background: #16a34a; color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">å¼€å§‹èŠå¤©</a>
    </div>
  </div>

  <div class="row">
    <div class="card">
      <h3>ğŸ”§ Freshchat é…ç½®</h3>
      <p>æŸ¥çœ‹å’Œæµ‹è¯• Freshchat é›†æˆé…ç½®</p>
      <p class="meta">æ¨¡æ‹Ÿæµ‹è¯•ã€Webhook é…ç½®è¯´æ˜</p>
      <a href="/freshchat" style="display: inline-block; margin-top: 12px; padding: 8px 16px; background: #7c3aed; color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">æŸ¥çœ‹é…ç½®</a>
    </div>
    
    <div class="card">
      <h3>ğŸ“Š Webhook æ—¥å¿—</h3>
      <p>æŸ¥çœ‹æ‰€æœ‰æ¥æ”¶åˆ°çš„ webhook è¯·æ±‚</p>
      <p class="meta">å·²æ¥æ”¶: <span class="status ok">{{ webhook_count }}</span> æ¡</p>
      <a href="/webhooks" style="display: inline-block; margin-top: 12px; padding: 8px 16px; background: #ea580c; color: white; text-decoration: none; border-radius: 6px; font-weight: 600;">æŸ¥çœ‹æ—¥å¿—</a>
    </div>
  </div>

  <div class="card" style="background: #f0f9ff; border-left: 4px solid #0284c7;">
    <h3>ğŸ“‹ ç³»ç»ŸçŠ¶æ€</h3>
    <p>Agent API: <span class="status {{ 'ok' if agent_base_url and has_agent_key else 'warn' }}">{{ 'Ready' if (agent_base_url and has_agent_key) else 'Not Configured' }}</span></p>
    <p>Agent Base URL: <span class="status {{ 'ok' if agent_base_url else 'warn' }}">{{ agent_base_url or 'Not set' }}</span></p>
    <p>Agent API Key: <span class="status {{ 'ok' if has_agent_key else 'warn' }}">{{ 'Set' if has_agent_key else 'Not set' }}</span></p>
  </div>

  <div class="card">
    <h3>ğŸ”— Webhook ç«¯ç‚¹</h3>
    <p><strong>Agent Webhook:</strong> <code>/agent/webhook</code></p>
    <p><strong>Freshchat Webhook:</strong> <code>/freshchat-webhook</code></p>
    <p class="meta">éƒ¨ç½²åéœ€è¦åœ¨å¯¹åº”å¹³å°é…ç½®è¿™äº› URL</p>
  </div>
{% endblock %}
